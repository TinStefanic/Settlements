@using Settlements.Client.Shared.RowSettlement
@using Settlements.Shared.DTOs


<div class="text-center">
    <h3>Total settlements count: @(PaginatedSettlements?.TotalSettlementsCount.ToString() ?? "Loading ...")</h3>
</div>

<table class="table text-center" style="table-layout: fixed">
    <thead>
        <tr>
            <th>Country</th>
            <th>Postal code</th>
            <th>Name</th>
            <th></th>
        </tr>
    </thead>
</table>
@foreach (var settlement in PaginatedSettlements?.Settlements ?? Enumerable.Empty<SettlementDTO>())
{
    @if (settlement is not null)
    {
        <DisplayRowSettlement Countries="@Countries" Settlement="@settlement" OnChange="ReloadPage"/>
    }
}

<div class="row justify-content-center text-center">
    <div class="col-auto">
        <button type="button" class="btn @(HasPreviusPage ? "btn-link" : "disabled")" @onclick="LoadPreviousPage">
            Previous page
        </button>
    </div>
    <div class="col-auto">
        <button type="button" class="btn @(HasNextPage ? "btn-link" : "disabled")" @onclick="LoadNextPage">
            Next page
        </button>
    </div>
</div>
